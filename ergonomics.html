<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visual Components x Work(s) Ergo</title>

<style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

/* =========================
   Glass Header
========================= */
.app-header {
  position: sticky;
  top: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  font-size: 18px;
  font-weight: bold;
  background: rgba(255, 255, 255, 0.75);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(0,0,0,0.1);
}

#menuToggle {
  display: none;
  font-size: 22px;
  cursor: pointer;
  background: none;
  border: none;
}

/* =========================
   Layout
========================= */
.container {
  display: flex;
  height: calc(100vh - 56px);
  overflow: hidden;
}

.menu {
  width: 360px;
  min-width: 360px;
  background: #f2f2f2;
  padding: 10px;
  box-sizing: border-box;
  overflow-y: auto;
}

.menu li {
  list-style: none;
  padding: 10px;
  cursor: pointer;
}

.menu li:hover,
.menu li.active {
  background: #ddd;
}

.divider {
  width: 5px;
  background: #ccc;
  cursor: col-resize;
}

.content {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}

/* =========================
   YouTube
========================= */
.video-wrapper {
  width: 100%;
  aspect-ratio: 16 / 9;
  max-height: 70vh;
  margin-top: 12px;
}

.video-wrapper iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* =========================
   Mobile
========================= */
@media (max-width: 768px) {
  #menuToggle {
    display: inline-block;
  }

  .menu {
    position: fixed;
    top: 56px;
    left: -280px;
    width: 280px;
    height: calc(100vh - 56px);
    background: #f2f2f2;
    z-index: 999;
    transition: left 0.25s ease;
  }

  .menu.show {
    left: 0;
  }

  .divider {
    display: none;
  }

  .content {
    padding: 16px;
  }
}
</style>
</head>

<body>

<!-- Header -->
<div class="app-header">
  <button id="menuToggle">☰</button>
  <a href="https://www.visualcomponents.com" target="_blank">Visual Components</a>
  x
  <a href="https://www.worksergo.com" target="_blank">Work(s) Ergo</a>

  <!-- Counter -->
  <span id="clickCounter" style="margin-left:auto;font-weight:normal;">
    Views: 0
  </span>
</div>

<div class="container">
  <ul class="menu" id="menu"></ul>
  <div class="divider" id="divider"></div>
  <div class="content" id="content">
    <p>Select a demo from the menu.</p>
  </div>
</div>

<script>
/* =========================
   Data
========================= */
const pages = [
  {
    title: "01 Floating Hands and MultiPose",
    videoId: "1TK7Z2mKARo",
    desc: "Simply place the Floating Hands at the desired position in Visual Components..."
  },
  {
    title: "02 Copy and Paste",
    videoId: "0bh-dkYO8WU",
    desc: "All the features of Work(s) Ergo ergonomics engine will be integrated..."
  },
  {
    title: "03 Obstructed Eye Gaze and Eye View",
    videoId: "m6IJ2ifP5dE",
    desc: "Work(s) Ergo ergonomics engine allows users to set the gaze target..."
  },
  {
    title: "Coming soon",
    videoId: "",
    desc: ""
  }
];

/* =========================
   Counter (防呆)
========================= */
let viewCount = 0;
let lastIndex = null;
const counterEl = document.getElementById("clickCounter");

/* =========================
   YouTube
========================= */
function youtubeEmbed(id) {
  if (!id) return "";
  return `
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/${id}" allowfullscreen></iframe>
    </div>
  `;
}

/* =========================
   Show Page
========================= */
function showPage(index) {

  // 防呆：同一頁不重複計數
  if (index !== lastIndex) {
    viewCount++;
    counterEl.textContent = `Views: ${viewCount}`;
    lastIndex = index;
  }

  const p = pages[index];
  content.innerHTML = `
    <h2>${p.title}</h2>
    <p>${p.desc}</p>
    ${youtubeEmbed(p.videoId)}
  `;

  document.querySelectorAll(".menu li")
    .forEach((li, i) => li.classList.toggle("active", i === index));

  if (window.innerWidth <= 768) {
    menu.classList.remove("show");
  }
}

/* =========================
   Build Menu
========================= */
const menu = document.getElementById("menu");
const content = document.getElementById("content");

pages.forEach((p, i) => {
  const li = document.createElement("li");
  li.textContent = p.title;
  li.onclick = () => showPage(i);
  menu.appendChild(li);
});

/* =========================
   Mobile Toggle
========================= */
document.getElementById("menuToggle").onclick = () => {
  menu.classList.toggle("show");
};

/* =========================
   Divider Drag
========================= */
const divider = document.getElementById("divider");
let dragging = false;

divider.addEventListener("mousedown", () => {
  dragging = true;
  document.body.style.cursor = "col-resize";
});

document.addEventListener("mouseup", () => {
  dragging = false;
  document.body.style.cursor = "";
});

document.addEventListener("mousemove", e => {
  if (!dragging || window.innerWidth <= 768) return;
  const rect = document.querySelector(".container").getBoundingClientRect();
  const w = e.clientX - rect.left;
  if (w > 200 && w < 600) {
    menu.style.width = w + "px";
  }
});
</script>

</body>
</html>
