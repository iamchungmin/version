<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>Visual Components x Work(s) Ergo</title>

<style>
  body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
  }

  .container {
    display: flex;
    height: 100vh;
    overflow: hidden;
  }

  /* 左邊選單 */
  .menu {
    width: 240px;           /* 初始寬度 */
    min-width: 240px;
    max-width: 960px;
    background: #f2f2f2;
    padding: 10px;
    box-sizing: border-box;
  }

  .menu li {
    list-style: none;
    padding: 8px;
    cursor: pointer;
  }

  .menu li:hover,
  .menu li.active {
    background: #ddd;
  }

  /* 中間分隔線 */
  .divider {
    width: 5px;
    cursor: col-resize;
    background: #ccc;
  }

  /* 右邊內容 */
  .content {
    flex: 1;
    padding: 20px;
    overflow: auto;
  }

  /* YouTube RWD */
  .video-wrapper {
    position: relative;
    padding-bottom: 56.25%;
    height: 0;
    margin-top: 10px;
  }

  .video-wrapper iframe {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }
</style>
</head>

<body>

<div class="container">
  <ul class="menu" id="menu"></ul>
  <div class="divider" id="divider"></div>
  <div class="content" id="content">Visual Components x Work(s) Ergo</div>
</div>

<script>
/* 資料來源（方式二） */
const pages = [
  {
    title: "01 Floating Hands and MultiPose",
    videoId: "1TK7Z2mKARo",
    desc: "Floating hands + MultiPose demo"
  },
  {
    title: "02 Copy and Paste",
    videoId: "0bh-dkYO8WU",
    desc: "Copy and paste workflow demo"
  }
];

/* YouTube embed */
function youtubeEmbed(videoId) {
  return `
    <div class="video-wrapper">
      <iframe
        src="https://www.youtube.com/embed/${videoId}"
        frameborder="0"
        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen>
      </iframe>
    </div>
  `;
}

/* 顯示頁面 */
function showPage(index) {
  const p = pages[index];
  const content = document.getElementById("content");

  document
    .querySelectorAll(".menu li")
    .forEach((li, i) => li.classList.toggle("active", i === index));

  content.innerHTML = `
    <h2>${p.title}</h2>
    <p>${p.desc}</p>
    ${youtubeEmbed(p.videoId)}
  `;
}

/* 產生左邊 menu */
const menu = document.getElementById("menu");
pages.forEach((p, i) => {
  const li = document.createElement("li");
  li.textContent = p.title;
  li.onclick = () => showPage(i);
  menu.appendChild(li);
});

/* ===== 分隔線拖曳邏輯 ===== */
const divider = document.getElementById("divider");
const menuEl = document.querySelector(".menu");
let dragging = false;

divider.addEventListener("mousedown", () => {
  dragging = true;
  document.body.style.cursor = "col-resize";
  document.body.style.userSelect = "none";
});

document.addEventListener("mouseup", () => {
  dragging = false;
  document.body.style.cursor = "";
  document.body.style.userSelect = "";
});

const container = document.querySelector(".container");
document.addEventListener("mousemove", (e) => {
  if (!dragging) return;

  const rect = container.getBoundingClientRect();
  const newWidth = e.clientX - rect.left;

  const min = 120;
  const max = 360;

  menuEl.style.width = `${Math.min(max, Math.max(min, newWidth))}px`;
});

</script>

</body>
</html>
